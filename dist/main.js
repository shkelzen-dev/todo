(()=>{"use strict";let e=[];const t=function(){let t=JSON.parse(localStorage.getItem("projects"));e=null==t?[]:t,document.getElementById("projects").innerText="";for(let t=0;t<e.length;t++){const n=document.createElement("button");n.setAttribute("class","projectDiv"),n.setAttribute("id",t),n.innerText=e[t].name,document.getElementById("projects").appendChild(n)}};let n=[];const o=function(){document.getElementById("projectContent").innerText="",document.getElementById("noteDetails").style.display="none",document.getElementById("addNotesForm").style.display="none",document.getElementById("noteDetails").style.display="none";let e=JSON.parse(localStorage.getItem("notes"));n=null==e?[]:e;for(let e=0;e<n.length;e++){const t=document.createElement("button");t.setAttribute("class","notesDiv"),t.setAttribute("id",e),n[e].getNameDescription=function(){return this.title+"\nDeadline: "+this.dueDate},t.innerText=n[e].getNameDescription(),document.getElementById("projectContent").appendChild(t),t.style.margin="5px",t.style.borderRadius="7px",1==n[e].checklist?(t.style.border="1px solid black",t.style.color="#B2BEB5",t.style.textDecoration="line-through"):"Low"==n[e].priority?t.style.border="3px solid blue":"Medium"==n[e].priority?t.style.border="3px solid yellow":t.style.border="3px solid red"}},d=document.getElementById("projects"),l=document.getElementById("addProject"),c=document.getElementById("addNoteButton"),i=document.getElementById("closeForm");document.getElementById("title");let m="";const r=document.getElementById("projectContent"),s=document.getElementById("closeProjectForm"),u=document.getElementById("closeNoteDetailsForm"),a=document.getElementById("submitProject"),y=function(e,t,n,o,d,l){return{title:e,description:t,dueDate:n,priority:o,checklist:d,project:l}};document.getElementById("title").innerText="Projects";const g=document.getElementById("addNotesForm"),E=document.getElementById("edit"),p=document.getElementById("saveEdit");document.getElementById("deleteNote"),window.onload=t(),o(),l.addEventListener("click",(function(){document.getElementById("addProjectsForm").style.display="block",document.getElementById("projectName").focus()})),c.addEventListener("click",(function(){document.getElementById("addNotesForm").style.display="block",document.getElementById("noteName").focus();const t=document.getElementById("partOfProject");for(let e=t.options.length-1;e>=0;e--)t.remove(e);for(let n=0;n<e.length;n++){let o=document.createElement("option");o.text=e[n].name,t.add(o)}})),i.addEventListener("click",(function(){document.getElementById("addNotesForm").style.display="none"})),d.addEventListener("click",(function(e){document.getElementById("projectContent").innerText="";for(let t=0;t<n.length;t++)if(n[t].project.name==e.target.innerText){const e=document.createElement("button");e.setAttribute("class","notesDiv"),e.setAttribute("id",t),e.innerText=n[t].getNameDescription(),document.getElementById("projectContent").appendChild(e),e.style.margin="5px",e.style.borderRadius="7px",1==n[t].checklist?(e.style.border="1px solid black",e.style.color="#B2BEB5",e.style.textDecoration="line-through"):"Low"==n[t].priority?e.style.border="3px solid blue":"Medium"==n[t].priority?e.style.border="3px solid yellow":e.style.border="3px solid red"}})),title.addEventListener("click",o),r.addEventListener("click",(function(e){document.getElementById("noteDetails").style.display="block",function(e){document.getElementById("noteTitle").setAttribute("readonly","readonly"),document.getElementById("noteDescription").setAttribute("readonly",""),document.getElementById("deadline").setAttribute("readonly",""),document.getElementById("setHigh").setAttribute("disabled",""),document.getElementById("setMedium").setAttribute("disabled",""),document.getElementById("setLow").setAttribute("disabled",""),document.getElementById("noteTitle").value=n[e].title,document.getElementById("noteDescription").value=n[e].description,document.getElementById("deadline").value=n[e].dueDate;const t=document.getElementById("showProject");for(let e=t.options.length-1;e>=0;e--)t.remove(e);let o=document.createElement("option");o.text=n[e].project.name,t.add(o);let d=document.getElementsByName("showPriority");for(let t=0;t<d.length;t++)n[e].priority==d[t].value&&(d[t].checked=!0);n[e].checklist?document.getElementById("checked").checked=!0:document.getElementById("checked").checked=!1}(e.target.id),m=e.target.id})),s.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("addProjectsForm").style.display="none"})),u.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("noteDetails").style.display="none"})),deleteNote.addEventListener("click",(e=>{var t;e.preventDefault(),t=m,n.splice(t,1),o()})),a.addEventListener("click",(n=>{var o;n.preventDefault(),o=document.getElementById("projectName").value,e.push({name:o}),console.log(e),localStorage.setItem("projects",JSON.stringify(e)),t(),document.getElementById("projectName").value="",document.getElementById("addProjectsForm").style.display="none"})),g.addEventListener("submit",(t=>{t.preventDefault(),function(){let t=document.getElementById("noteName").value,o=document.getElementById("noteDesc").value,d=document.getElementById("dueDate").value,l="high",c=document.getElementsByName("priority");for(let e=0;e<c.length;e++)c[e].checked&&(l=c[e].value);let i=document.getElementById("partOfProject").value,m=e.find((e=>e.name==i));console.log(i),console.log(m),function(e,t,o,d,l,c){n.push(y(e,t,o,d,!1,c)),localStorage.setItem("notes",JSON.stringify(n))}(t,o,d,l,0,m)}(),o(),function(){document.getElementById("noteName").value="",document.getElementById("noteDesc").value="",document.getElementById("dueDate").value="";let e=document.getElementsByName("priority");for(let t=0;t<e.length;t++)e[t].checked=!1}()})),E.addEventListener("click",(t=>{t.preventDefault(),function(){document.getElementById("noteTitle").removeAttribute("readonly"),document.getElementById("noteDescription").removeAttribute("readonly"),document.getElementById("deadline").removeAttribute("readonly"),document.getElementById("setHigh").removeAttribute("disabled"),document.getElementById("setMedium").removeAttribute("disabled"),document.getElementById("setLow").removeAttribute("disabled");const t=document.getElementById("showProject");for(let n=0;n<e.length;n++)if(e[n].name!=t.options[0].text){let o=document.createElement("option");o.text=e[n].name,t.add(o)}}()})),p.addEventListener("click",(t=>{t.preventDefault(),function(){let t=document.getElementById("noteTitle").value,o=document.getElementById("noteDescription").value,d=document.getElementById("deadline").value,l=document.getElementById("showProject").value,c=e.find((e=>e.name==l)),i=document.getElementById("checked"),r="high",s=document.getElementsByName("showPriority");for(let e=0;e<s.length;e++)s[e].checked&&(r=s[e].value);i=1==i.checked,n[m]=y(t,o,d,r,i,c),localStorage.setItem("notes",JSON.stringify(n))}(),document.getElementById("noteTitle").setAttribute("readonly","readonly"),document.getElementById("noteDescription").setAttribute("readonly",""),document.getElementById("deadline").setAttribute("readonly",""),document.getElementById("setHigh").setAttribute("disabled",""),document.getElementById("setMedium").setAttribute("disabled",""),document.getElementById("setLow").setAttribute("disabled",""),o()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLElBQ25FUCxTQUFTQyxlQUFlLFlBQVlNLGFBQWEsV0FBVyxJQUM1RFAsU0FBU0MsZUFBZSxXQUFXTSxhQUFhLFdBQVcsSUFDM0RQLFNBQVNDLGVBQWUsYUFBYU0sYUFBYSxXQUFXLElBQzdEUCxTQUFTQyxlQUFlLFVBQVVNLGFBQWEsV0FBVyxJRWhEeERJLEdBQVcsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8vLi9zcmMvc2hvdy5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2FkZC5qcyIsIndlYnBhY2s6Ly90b2RvLy4vc3JjL2RlbGV0ZU5vdGUuanMiLCJ3ZWJwYWNrOi8vdG9kby8uL3NyYy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGxldCBwcm9qZWN0cyA9IFtdO1xuXG5leHBvcnQgY29uc3Qgc2hvd1Byb2plY3RzID0gZnVuY3Rpb24oKXtcbiAgbGV0IHByMSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpO1xuICBpZihwcjEgPT0gbnVsbCl7XG4gICAgcHJvamVjdHMgPSBbXTtcbiAgfWVsc2V7XG4gICAgcHJvamVjdHMgPSBwcjE7XG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzJykuaW5uZXJUZXh0ID0gJyc7XG4gICBcbiAgICBmb3IobGV0IGk9MDsgaTxwcm9qZWN0cy5sZW5ndGg7IGkrKyl7XG4gICAgICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywncHJvamVjdERpdicpO1xuICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBpKTtcbiAgICAgIG5ld0Rpdi5pbm5lclRleHQgPSBwcm9qZWN0c1tpXS5uYW1lO1xuICAgICAgY29uc3Qgc2lkZUJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cycpO1xuICAgICAgc2lkZUJhci5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgIH1cbiAgIH1cblxuXG5leHBvcnQgbGV0IG5vdGVzID0gW107XG5cbmV4cG9ydCBjb25zdCBzaG93Tm90ZXMgPSBmdW5jdGlvbigpe1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdENvbnRlbnQnKS5pbm5lclRleHQgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVEZXRhaWxzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZE5vdGVzRm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlRGV0YWlscycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGxldCBub3RlczEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdub3RlcycpKTtcbiAgaWYobm90ZXMxID09IG51bGwgKXtcbiAgICBub3RlcyA9IFtdO1xuICB9ZWxzZXtcbiAgICBub3RlcyA9IG5vdGVzMTtcbiAgfVxuICBmb3IobGV0IGk9MDsgaTxub3Rlcy5sZW5ndGg7IGkrKyl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbmV3Q29udGFpbmVyRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm90ZXNEaXYnKTtcbiAgICBuZXdDb250YWluZXJEaXYuc2V0QXR0cmlidXRlKCdpZCcsIGkpO1xuICAgIG5vdGVzW2ldLmdldE5hbWVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlICsgJ1xcbicgKyAnRGVhZGxpbmU6ICcgKyB0aGlzLmR1ZURhdGU7ICAgXG4gICAgfVxuICAgIG5ld0NvbnRhaW5lckRpdi5pbm5lclRleHQgPSBub3Rlc1tpXS5nZXROYW1lRGVzY3JpcHRpb24oKTtcbiAgICBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdENvbnRlbnQnKS5hcHBlbmRDaGlsZChuZXdDb250YWluZXJEaXYpO1xuICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5tYXJnaW4gPSAnNXB4JztcbiAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzdweCdcbiAgICBpZihub3Rlc1tpXS5jaGVja2xpc3QgPT0gdHJ1ZSl7XG4gICAgICAvL25ld0NvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCdkb25lJyk7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCBibGFjayc7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuY29sb3IgPSAnI0IyQkVCNSc7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUudGV4dERlY29yYXRpb24gPSAnbGluZS10aHJvdWdoJztcbiAgICB9ZWxzZXtcbiAgICBpZihub3Rlc1tpXS5wcmlvcml0eSA9PSAnTG93Jyl7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCBibHVlJztcbiAgICB9XG4gICAgZWxzZSBpZihub3Rlc1tpXS5wcmlvcml0eSA9PSAnTWVkaXVtJyl7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCB5ZWxsb3cnO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgbmV3Q29udGFpbmVyRGl2LnN0eWxlLmJvcmRlciA9ICczcHggc29saWQgcmVkJ1xuICAgIH1cbiAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG9uUHJvamVjdENsaWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzJyk7XG5leHBvcnQgY29uc3QgcHJvamVjdE5vdGVzID0gZnVuY3Rpb24gKGUpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RDb250ZW50JykuaW5uZXJUZXh0ID0gJyc7XG4gIGZvcihsZXQgaT0wO2k8bm90ZXMubGVuZ3RoO2krKyl7XG4gIGlmKG5vdGVzW2ldLnByb2plY3QubmFtZSA9PSBlLnRhcmdldC5pbm5lclRleHQgKXtcbiAgICBjb25zdCBuZXdDb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBuZXdDb250YWluZXJEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3Rlc0RpdicpO1xuICAgIG5ld0NvbnRhaW5lckRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgaSk7XG4gICAgbmV3Q29udGFpbmVyRGl2LmlubmVyVGV4dCA9IG5vdGVzW2ldLmdldE5hbWVEZXNjcmlwdGlvbigpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Q29udGVudCcpLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lckRpdik7XG4gICAgbmV3Q29udGFpbmVyRGl2LnN0eWxlLm1hcmdpbiA9ICc1cHgnO1xuICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnN3B4J1xuICAgIGlmKG5vdGVzW2ldLmNoZWNrbGlzdCA9PSB0cnVlKXtcbiAgICAgIC8vbmV3Q29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoJ2RvbmUnKTtcbiAgICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIGJsYWNrJztcbiAgICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5jb2xvciA9ICcjQjJCRUI1JztcbiAgICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICdsaW5lLXRocm91Z2gnO1xuICAgIH1lbHNle1xuICAgIGlmKG5vdGVzW2ldLnByaW9yaXR5ID09ICdMb3cnKXtcbiAgICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIGJsdWUnO1xuICAgIH1cbiAgICBlbHNlIGlmKG5vdGVzW2ldLnByaW9yaXR5ID09ICdNZWRpdW0nKXtcbiAgICAgIG5ld0NvbnRhaW5lckRpdi5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIHllbGxvdyc7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBuZXdDb250YWluZXJEaXYuc3R5bGUuYm9yZGVyID0gJzNweCBzb2xpZCByZWQnXG4gICAgfVxuICAgfVxuICB9XG4gfVxufTtcblxuZXhwb3J0IGNvbnN0IGFkZFByb2plY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUHJvamVjdCcpO1xuZXhwb3J0IGNvbnN0IHNob3dQcm9qZWN0Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFByb2plY3RzRm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE5hbWUnKS5mb2N1cygpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZE5vdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTm90ZUJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHNob3dOb3Rlc0Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGROb3Rlc0Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVOYW1lJykuZm9jdXMoKTtcbiAgY29uc3QgcGFydE9mUHJvamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJ0T2ZQcm9qZWN0Jyk7XG4gIGZvcihsZXQgaT1wYXJ0T2ZQcm9qZWN0Lm9wdGlvbnMubGVuZ3RoLTE7IGk+PTA7IGktLSl7XG4gICAgcGFydE9mUHJvamVjdC5yZW1vdmUoaSk7XG4gIH1cbiAgZm9yIChsZXQgaT0wOyBpPHByb2plY3RzLmxlbmd0aDsgaSsrKXtcbiAgICBsZXQgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIG9wLnRleHQgPSBwcm9qZWN0c1tpXS5uYW1lO1xuICAgIHBhcnRPZlByb2plY3QuYWRkKG9wKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNsb3NlRm9ybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZUZvcm0nKTtcbmV4cG9ydCBjb25zdCBjbG9zZUZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGROb3Rlc0Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxuZXhwb3J0IGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7XG5leHBvcnQgbGV0IG5vdGVJRCA9ICcnO1xuXG5leHBvcnQgY29uc3QgZGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVUaXRsZScpLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCdyZWFkb25seScpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURlc2NyaXB0aW9uJykuc2V0QXR0cmlidXRlKCdyZWFkb25seScsJycpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVhZGxpbmUnKS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywnJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRIaWdoJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsJycpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0TWVkaXVtJykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsJycpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0TG93Jykuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsJycpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZVRpdGxlJykudmFsdWUgPSBub3Rlc1tpZF0udGl0bGU7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlRGVzY3JpcHRpb24nKS52YWx1ZSA9IG5vdGVzW2lkXS5kZXNjcmlwdGlvbjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYWRsaW5lJykudmFsdWUgPSBub3Rlc1tpZF0uZHVlRGF0ZTtcbiAgXG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiUHJvamVjdCcpLnZhbHVlID0gbm90ZXNbaWRdLnByb2plY3QubmFtZTtcbiAgY29uc3Qgc2hvd1Byb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd1Byb2plY3QnKTtcbiAgLy8gc2hvd1Byb2plY3QucmVtb3ZlKHNob3dQcm9qZWN0WzBdKTtcbiAgZm9yKGxldCBpPXNob3dQcm9qZWN0Lm9wdGlvbnMubGVuZ3RoLTE7IGk+PTA7IGktLSl7XG4gICAgc2hvd1Byb2plY3QucmVtb3ZlKGkpO1xuICB9XG4gIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICBvcHQudGV4dCA9IG5vdGVzW2lkXS5wcm9qZWN0Lm5hbWU7XG4gIHNob3dQcm9qZWN0LmFkZChvcHQpO1xuXG4gIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWUgPSBub3Rlc1tpZF0ucHJpb3JpdHk7XG4gIGxldCBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnc2hvd1ByaW9yaXR5Jyk7XG4gIGZvcihsZXQgaSA9IDA7IGk8ZWxlLmxlbmd0aDsgaSsrKXtcbiAgICBpZihub3Rlc1tpZF0ucHJpb3JpdHkgPT0gZWxlW2ldLnZhbHVlKXtcbiAgICAgIGVsZVtpXS5jaGVja2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYobm90ZXNbaWRdLmNoZWNrbGlzdCl7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrZWQnKS5jaGVja2VkID0gdHJ1ZTtcbiAgfWVsc2V7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrZWQnKS5jaGVja2VkID0gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBub3RlQ2xpY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdENvbnRlbnQnKTtcbmV4cG9ydCBjb25zdCBzaG93Tm90ZURldGFpbHMgPSBmdW5jdGlvbiAoZSkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURldGFpbHMnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgZGV0YWlscyhlLnRhcmdldC5pZCk7XG4gIG5vdGVJRCA9IGUudGFyZ2V0LmlkO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsb3NlUHJvamVjdEZvcm1CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VQcm9qZWN0Rm9ybScpO1xuZXhwb3J0IGNvbnN0IGNsb3NlUHJvamVjdEZvcm0gPSBmdW5jdGlvbihlKXtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUHJvamVjdHNGb3JtJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cblxuZXhwb3J0IGNvbnN0IGNsb3NlTm90ZURldGFpbHNGb3JtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlTm90ZURldGFpbHNGb3JtJyk7XG5leHBvcnQgY29uc3QgY2xvc2VOb3RlRGV0YWlsc0Zvcm0gPSBmdW5jdGlvbihlKXtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURldGFpbHMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufSIsImltcG9ydCB7cHJvamVjdHMsIHNob3dQcm9qZWN0cywgbm90ZXMsIG5vdGVJRH0gZnJvbSAnLi9zaG93LmpzJztcblxuZXhwb3J0IGNvbnN0IHByb2plY3QgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm57XG4gICAgICAgIG5hbWVcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBhZGRQcm9qZWN0RnVuY3Rpb24gPSBmdW5jdGlvbihwTmFtZSl7XG4gICAgcHJvamVjdHMucHVzaChwcm9qZWN0KHBOYW1lKSk7XG4gICAgY29uc29sZS5sb2cocHJvamVjdHMpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcbiAgICBzaG93UHJvamVjdHMoKTtcbn07XG4gIFxuZXhwb3J0ICBjb25zdCBhZGRQcm9qZWN0VG9BcnJheSA9IGZ1bmN0aW9uKCl7XG4gICAgY29uc3QgcHJvamVjdElucHV0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZScpLnZhbHVlO1xuICAgIGFkZFByb2plY3RGdW5jdGlvbihwcm9qZWN0SW5wdXROYW1lKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE5hbWUnKS52YWx1ZSA9ICcnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9qZWN0c0Zvcm0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTtcblxuZXhwb3J0IGNvbnN0IHN1Ym1pdFByb2plY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0UHJvamVjdCcpO1xuXG5jb25zdCBub3RlID0gZnVuY3Rpb24odGl0bGUsZGVzY3JpcHRpb24sZHVlRGF0ZSxwcmlvcml0eSxjaGVja2xpc3QscHJvamVjdCl7XG4gICAgcmV0dXJue1xuICAgICAgICB0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBjaGVja2xpc3QsIHByb2plY3QsICAgIFxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhZGROb3RlcyA9IGZ1bmN0aW9uKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGNoZWNrbGlzdCwgcHJvamVjdCl7XG4gICAgbm90ZXMucHVzaChub3RlKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGNoZWNrbGlzdCwgcHJvamVjdCkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdub3RlcycsSlNPTi5zdHJpbmdpZnkobm90ZXMpKTtcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJykuaW5uZXJUZXh0ID0gJ1Byb2plY3RzJztcblxuZXhwb3J0IGNvbnN0IGNsZWFyTm90ZUZvcm0gPSBmdW5jdGlvbigpe1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZU5hbWUnKS52YWx1ZSA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURlc2MnKS52YWx1ZSA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlRGF0ZScpLnZhbHVlID0gJyc7XG4gIGxldCBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgncHJpb3JpdHknKTtcbiAgZm9yKGxldCBpPTA7IGkgPCBlbGUubGVuZ3RoOyBpKyspe1xuICAgICAgIGVsZVtpXS5jaGVja2VkID0gZmFsc2U7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBwdXNoTm90ZSA9IGZ1bmN0aW9uKCl7XG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlTmFtZScpLnZhbHVlO1xuICBsZXQgZGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlRGVzYycpLnZhbHVlO1xuICBsZXQgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJykudmFsdWU7XG4gIGxldCBwcmlvcml0eSA9ICdoaWdoJztcbiAgbGV0IGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdwcmlvcml0eScpO1xuICBmb3IobGV0IGk9MDsgaSA8IGVsZS5sZW5ndGg7IGkrKyl7XG4gICAgaWYoZWxlW2ldLmNoZWNrZWQpe1xuICAgICAgIHByaW9yaXR5ID0gZWxlW2ldLnZhbHVlO1xuICAgIH1cbiAgfTtcbiAgbGV0IGNoZWNrID0gZmFsc2U7XG4gIGxldCBwciAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFydE9mUHJvamVjdCcpLnZhbHVlOyAgICAgIC8vbWVyciBlbXJpbiBlIHByb2pla3RpdFxuICBsZXQgcHJvamVjdCA9IHByb2plY3RzLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQubmFtZSA9PSBwcik7IC8vZ2plbiBvYmpla3RpbiBwcm9qZWN0IHFlIGthIGF0ZSBlbWVyXG4gIGNvbnNvbGUubG9nKHByKTtcbiAgY29uc29sZS5sb2cocHJvamVjdCk7XG4gIGFkZE5vdGVzKHRpdGxlLGRlc2MsZGF0ZSxwcmlvcml0eSxjaGVjayxwcm9qZWN0KTsgICAgICAgICAgICAvL2tyaWpvbiBvYmpla3RpbiBub3RlIG1lIHZsZXJhdCBlIGRoZW5hXG59XG5cbmV4cG9ydCBjb25zdCBhZGROb3Rlc0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTm90ZXNGb3JtJyk7XG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Jyk7XG5leHBvcnQgY29uc3Qgc2F2ZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZUVkaXQnKTtcblxuZXhwb3J0IGNvbnN0IG1ha2VFZGl0YWJsZSA9IGZ1bmN0aW9uICgpe1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZVRpdGxlJykucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURlc2NyaXB0aW9uJykucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVhZGxpbmUnKS5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gIC8vZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ3Nob3dQcmlvcml0eScpLmRpc2FibGVkID0gZmFsc2U7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRIaWdoJykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0TWVkaXVtJykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0TG93JykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICBjb25zdCBzaG93UHJvamVjdDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd1Byb2plY3QnKTtcbiAgZm9yIChsZXQgaT0wOyBpPHByb2plY3RzLmxlbmd0aDsgaSsrKXtcbiAgICBpZihwcm9qZWN0c1tpXS5uYW1lICE9IHNob3dQcm9qZWN0MS5vcHRpb25zWzBdLnRleHQpe1xuICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb24udGV4dCA9IHByb2plY3RzW2ldLm5hbWU7XG4gICAgICBzaG93UHJvamVjdDEuYWRkKG9wdGlvbik7IFxuICAgIH0gIFxufVxufTtcblxuZXhwb3J0IGNvbnN0IHJlYWRPbmx5ID0gZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZVRpdGxlJykuc2V0QXR0cmlidXRlKCdyZWFkb25seScsJ3JlYWRvbmx5Jyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RlRGVzY3JpcHRpb24nKS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywnJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWFkbGluZScpLnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCcnKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldEhpZ2gnKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywnJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRNZWRpdW0nKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywnJyk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRMb3cnKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywnJyk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZUVkaXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG5ld1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGVUaXRsZScpLnZhbHVlO1xuICBsZXQgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90ZURlc2NyaXB0aW9uJykudmFsdWU7XG4gIGxldCBuZXdEZWFkbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWFkbGluZScpLnZhbHVlO1xuICBsZXQgcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93UHJvamVjdCcpLnZhbHVlO1xuICBsZXQgbmV3UHJvamVjdCA9IHByb2plY3RzLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQubmFtZSA9PSBwKTtcbiAgbGV0IGNoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrZWQnKTtcbiAgbGV0IG5ld1ByaW9yaXR5ID0gJ2hpZ2gnO1xuICBsZXQgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ3Nob3dQcmlvcml0eScpO1xuICBmb3IobGV0IGk9MDsgaSA8IGVsZS5sZW5ndGg7IGkrKyl7XG4gICAgaWYoZWxlW2ldLmNoZWNrZWQpe1xuICAgICAgIG5ld1ByaW9yaXR5ID0gZWxlW2ldLnZhbHVlO1xuICAgIH1cbiAgfTtcbiAgaWYoY2hlY2suY2hlY2tlZCA9PSB0cnVlKXtcbiAgICBjaGVjayA9IHRydWU7XG4gIH1lbHNle1xuICAgIGNoZWNrID0gZmFsc2U7XG4gIH1cbiAgbm90ZXNbbm90ZUlEXSA9IG5vdGUobmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEZWFkbGluZSwgbmV3UHJpb3JpdHksIGNoZWNrLCBuZXdQcm9qZWN0KTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25vdGVzJyxKU09OLnN0cmluZ2lmeShub3RlcykpO1xufTsiLCJpbXBvcnQgeyBub3Rlcywgc2hvd05vdGVzIH0gZnJvbSBcIi4vc2hvdy5qc1wiO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlTm90ZXMgPSBmdW5jdGlvbihpZE9mTm90ZSl7XG4gIG5vdGVzLnNwbGljZShpZE9mTm90ZSwgMSk7XG4gIHNob3dOb3RlcygpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZU5vdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlTm90ZScpOyIsImltcG9ydCB7c2hvd1Byb2plY3RzLCBzaG93Tm90ZXMsIHByb2plY3RzLCBub3RlSUQsIGFkZFByb2plY3RCdXR0b24sIHNob3dQcm9qZWN0Rm9ybSxcbmFkZE5vdGVCdXR0b24sIHNob3dOb3Rlc0Zvcm0sIGNsb3NlRm9ybSwgY2xvc2VGb3JtQnV0dG9uLCBvblByb2plY3RDbGljaywgcHJvamVjdE5vdGVzLFxuIG5vdGVDbGljaywgc2hvd05vdGVEZXRhaWxzLCBjbG9zZVByb2plY3RGb3JtLCBjbG9zZVByb2plY3RGb3JtQnV0dG9uLCBjbG9zZU5vdGVEZXRhaWxzRm9ybSwgY2xvc2VOb3RlRGV0YWlsc0Zvcm1CdXR0b259IGZyb20gJy4vc2hvdy5qcyc7XG5pbXBvcnQge2FkZFByb2plY3QsIGFkZE5vdGVzLCBzdWJtaXRQcm9qZWN0LCBhZGRQcm9qZWN0VG9BcnJheSwgYWRkTm90ZXNGb3JtLCBwdXNoTm90ZSwgXG4gICAgZWRpdEJ1dHRvbiwgbWFrZUVkaXRhYmxlLCBjbGVhck5vdGVGb3JtLCBzYXZlRWRpdCwgc2F2ZUVkaXRlZCwgcmVhZE9ubHl9IGZyb20gJy4vYWRkLmpzJztcbmltcG9ydCB7ZGVsZXRlTm90ZXN9IGZyb20gJy4vZGVsZXRlTm90ZS5qcyc7XG5cbndpbmRvdy5vbmxvYWQgPSBzaG93UHJvamVjdHMoKTtcblxuc2hvd05vdGVzKCk7XG5cbmFkZFByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UHJvamVjdEZvcm0pO1xuYWRkTm90ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dOb3Rlc0Zvcm0pO1xuY2xvc2VGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VGb3JtKTtcbm9uUHJvamVjdENsaWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxwcm9qZWN0Tm90ZXMpO1xudGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93Tm90ZXMpO1xubm90ZUNsaWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd05vdGVEZXRhaWxzKTtcbmNsb3NlUHJvamVjdEZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVByb2plY3RGb3JtKTtcbmNsb3NlTm90ZURldGFpbHNGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjbG9zZU5vdGVEZXRhaWxzRm9ybSk7XG5cbmRlbGV0ZU5vdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZGVsZXRlTm90ZXMobm90ZUlEKTtcbiAgfSk7XG5cbnN1Ym1pdFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGFkZFByb2plY3RUb0FycmF5KCk7XG4gIH0pO1xuXG5hZGROb3Rlc0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBwdXNoTm90ZSgpO1xuICAgIHNob3dOb3RlcygpO1xuICAgIGNsZWFyTm90ZUZvcm0oKTtcbiAgfSk7XG5cbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpPT57XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBtYWtlRWRpdGFibGUoKTtcbiAgfSk7XG5cbnNhdmVFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KT0+e1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2F2ZUVkaXRlZCgpO1xuICAgIHJlYWRPbmx5KCk7XG4gICAgc2hvd05vdGVzKCk7XG4gIH0pOyJdLCJuYW1lcyI6WyJwcm9qZWN0cyIsInNob3dQcm9qZWN0cyIsInByMSIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJUZXh0IiwiaSIsImxlbmd0aCIsIm5ld0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJuYW1lIiwiYXBwZW5kQ2hpbGQiLCJub3RlcyIsInNob3dOb3RlcyIsInN0eWxlIiwiZGlzcGxheSIsIm5vdGVzMSIsIm5ld0NvbnRhaW5lckRpdiIsImdldE5hbWVEZXNjcmlwdGlvbiIsInRoaXMiLCJ0aXRsZSIsImR1ZURhdGUiLCJtYXJnaW4iLCJib3JkZXJSYWRpdXMiLCJjaGVja2xpc3QiLCJib3JkZXIiLCJjb2xvciIsInRleHREZWNvcmF0aW9uIiwicHJpb3JpdHkiLCJvblByb2plY3RDbGljayIsImFkZFByb2plY3RCdXR0b24iLCJhZGROb3RlQnV0dG9uIiwiY2xvc2VGb3JtQnV0dG9uIiwibm90ZUlEIiwibm90ZUNsaWNrIiwiY2xvc2VQcm9qZWN0Rm9ybUJ1dHRvbiIsImNsb3NlTm90ZURldGFpbHNGb3JtQnV0dG9uIiwic3VibWl0UHJvamVjdCIsIm5vdGUiLCJkZXNjcmlwdGlvbiIsInByb2plY3QiLCJhZGROb3Rlc0Zvcm0iLCJlZGl0QnV0dG9uIiwic2F2ZUVkaXQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9jdXMiLCJwYXJ0T2ZQcm9qZWN0Iiwib3B0aW9ucyIsInJlbW92ZSIsIm9wIiwidGV4dCIsImFkZCIsImUiLCJ0YXJnZXQiLCJpZCIsInZhbHVlIiwic2hvd1Byb2plY3QiLCJvcHQiLCJlbGUiLCJnZXRFbGVtZW50c0J5TmFtZSIsImNoZWNrZWQiLCJkZXRhaWxzIiwicHJldmVudERlZmF1bHQiLCJkZWxldGVOb3RlIiwiZXZlbnQiLCJpZE9mTm90ZSIsInNwbGljZSIsInBOYW1lIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZGVzYyIsImRhdGUiLCJwciIsImZpbmQiLCJlbGVtZW50IiwiYWRkTm90ZXMiLCJwdXNoTm90ZSIsImNsZWFyTm90ZUZvcm0iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzaG93UHJvamVjdDEiLCJvcHRpb24iLCJtYWtlRWRpdGFibGUiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RGVhZGxpbmUiLCJwIiwibmV3UHJvamVjdCIsImNoZWNrIiwibmV3UHJpb3JpdHkiLCJzYXZlRWRpdGVkIl0sInNvdXJjZVJvb3QiOiIifQ==